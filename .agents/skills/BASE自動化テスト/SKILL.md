---
name: netsea_product_discovery
description: NETSEAで新規商品の発掘を行うためのスキル。Playwrightを用いたスクレイピングにより、商品情報の収集と選定を行います。
---

# NETSEA新規商品発掘スキル

このスキルは、NETSEAから新規の有望な商品を発掘・抽出するための手順とガイドラインを定義します。NETSEAのAPI制限を回避するため、Playwrightを活用したWebスクレイピングを主たる手段として使用します。

## 前提条件
- Python環境（またはNode.js）でPlaywrightがインストールされ、動作可能な状態であること。
- NETSEAへのログインが必要な場合は、適切な認証情報（各種環境変数等）が設定されていること。

## 手順 (Workflow)

1. **検索条件の決定**:
   - 発掘したい商品のカテゴリ、キーワード、価格帯などの条件を明確にします。
   - 新着順、人気順などの特定のソート順やフィルタリング条件を決定します。

2. **商品一覧ページのスクレイピング (Playwright)**:
   - Playwrightを起動し、指定した検索条件でNETSEAの商品一覧ページへ遷移します。
   - ページネーションを順番に処理し、複数のページから「商品リスト（商品URL、商品名、価格、サプライヤー情報など）」を抽出します。

3. **個別商品ページからの詳細情報の抽出**:
   - 抽出した個別の商品URLに対してPlaywrightを用いてアクセスします。
   - 商品の詳細な説明、バリエーション（色・サイズ）、在庫状況、仕入条件や送料などを取得します。
   - ※NETSEA API（特に`direct_item_ids`等）では予期せぬ制限やエラーが発生しやすいため、詳細情報の取得は必ずPlaywrightを利用したスクレイピング・アプローチ（Fallback手段）で実施してください。

4. **データの整形と保存**:
   - 取得した商品データを扱いやすい形式（CSV、JSON、データベースなど）にクレンジング・整形して保存します。

5. **商品の評価・選定**:
   - 抽出したデータをもとに、価格差、利益率、トレンドなどを加味して、新規取扱商品としての適性を評価・選定します。

## 注意事項 (Guidelines)
- **スクレイピングの負荷軽減**: NETSEAのサイトに過度な負荷をかけないよう、リクエスト間には適切なウェイト（sleep）を挿入し、マナーを守って実行してください。
- **エラーハンドリングと安定化**: ページ構成の変更やネットワーク遅延によるタイムアウトに備え、十分なエラーハンドリング（try-except）とリトライロジックを実装してください。
- **リソース最適化**: 実行の安定性と速度向上のため、不要なリソース（広告、不要な画像、フォントなど）の読み込みブロックの設定を検討してください。
